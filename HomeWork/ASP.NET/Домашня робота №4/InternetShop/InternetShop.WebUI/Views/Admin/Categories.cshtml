@using InternetShop.WebUI.Models
@model CategoriesListViewModel
@{
    ViewBag.Title = "Categories";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}
<h2 class="text-center">Categories</h2>

@if (Model.PagingInfo.TotalPages > 1)
{
    <div class="my-2">
        @for (int i = 0; i < Model.PagingInfo.TotalPages; i++)
        {
            @Ajax.ActionLink((i + 1).ToString(), "CategoriesSummary", "Admin", new { page = i + 1 }, new AjaxOptions { UpdateTargetId = "categories" }, new { @class = "btn btn-info mx-2" })
        }
        @Ajax.ActionLink("Create New", "CreateCategory", null, new AjaxOptions { UpdateTargetId = "categoryModalDialog" }, new { @class = "btn btn-dark mx-2", data_toggle = "modal", data_target = "#categoryModal" })
    </div>
}
else
{
    <div class="my-2">
        @Ajax.ActionLink("Create New", "CreateCategory", null, new AjaxOptions { UpdateTargetId = "categoryModalDialog" }, new { @class = "btn btn-dark mx-2", data_toggle = "modal", data_target = "#categoryModal" })
    </div>
}
<div class="modal fade" id="categoryModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div id="categoryModalDialog" class="modal-dialog" role="document">
    </div>
</div>

<div id="categories" class="mx-auto">
    @{Html.RenderPartial("CategoriesSummary", Model.Categories);}
</div>
